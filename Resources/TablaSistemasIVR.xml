<table>
  <general
    DisplayName="IVR"
    Database="DBIVR"
    SubsystemFieldName="subsistema"
    TableName="IVR_STATUS"
    TableName2="IVR_GENERAL"
    CrossField2="IVR_ID">
  </general>

  <panels>
    <panel
      id="panelgenerales"
      DisplayName="Datos Generales">
    </panel>
    <panel
    id="panelDirectorios"
    DisplayName="Directorios">
    </panel>
    <panel
    id="panelinicializacion"
    DisplayName="Inicialización">
    </panel>
    <panel
      id="panelconexiones"
      DisplayName="Conexiones">
    </panel>

  </panels>

  <groups>
    <group
      id="GServidor"
      DisplayName="Servidor">
    </group>
    <group
    id="GCanales"
    DisplayName="">
    </group>
    <group
  id="GDirectorios"
  DisplayName="Directorios">
    </group>
  </groups>

  <columns>
    <column
      id="Arranque"
      DisplayName="Arranque">
    </column>
    <column
    id="Parada"
    DisplayName="Parada">
    </column>
  </columns>

  <fields>

    <field>
      <fattr
        FieldName="IVR_ID"
        Panel="panelgenerales"
        DisplayName="Identificador"
        IsKey="true"
        ReadOnly="true"
        Visible="false"
        EditionType="AUTOGENERATEDINT"
        Mandatory="true"
        ValidateAs="Integer"
        ToolTip="Identificador"
        UpdateNeeded="false"
        TabOrder="1">
      </fattr>
    </field>

    <field>
      <fattr
        FieldName="Description"
        Panel="panelgenerales"
        DisplayName="Descripción"
        EditionType="Edit"
        MaxLen="50"
        Mandatory="true"
        ValidateAs="Alpha"
        ToolTip="Indique una descripción."
        UpdateNeeded="true"
        TabOrder="2">
      </fattr>
    </field>



    <field>
      <fattr
        FieldName="ACD_IP"
        Panel="panelgenerales"
        DisplayName="Dirección ACD "
        EditionType="Edit"
        MaxLen="15"
        Mandatory="true"
        ValidateAs="Alpha"
        ToolTip="Servidor"
        Grupo="GServidor"
        Linea="LServidor"
        UpdateNeeded="true"
        AuxTable="2"
        TabOrder="3">
      </fattr>
    </field>

    <field>
      <fattr
        FieldName="ACD_PORT"
        Panel="panelgenerales"
        DisplayName="Puerto ACD"
        EditionType="Edit"
        MaxLen="5"
        Mandatory="true"
        ValidateAs="Integer"
        ToolTip="Servidor"
        Grupo="GServidor"
        Linea="LServidor"
        UpdateNeeded="true"
        AuxTable="2"
        TabOrder="4">
      </fattr>
    </field>

    <field>
      <fattr
        FieldName="ACD_CONNECTION_TIMEOUT"
        Panel="panelgenerales"
        DisplayName="Tiempo conexión"
        EditionType="Edit"
        MaxLen="5"
        Mandatory="true"
        ValidateAs="Integer"
        ToolTip="Servidor"
        Grupo="GServidor"
        Linea="LServidor"
        UpdateNeeded="true"
        DefaultValue="10"
        AuxTable="2"
        TabOrder="5">
      </fattr>
    </field>


    <field>
      <fattr
        FieldName="IVR_STATUS"
        Panel="panelgenerales"
        DisplayName="Activo"
        EditionType="check"
        Mandatory="false"
        ValidateAs="Boolean"
        ToolTip="¿Activo?"
        UpdateNeeded="true"
        Grupo="GServidor"
        Linea="LServidor"
        TabOrder="6">
      </fattr>
    </field>


    <field>
      <fattr
        FieldName=""
        Panel="panelgenerales"
        DisplayName="Canales"
        EditionType="LABEL"
        ReadOnly="true"
        ToolTip="Información de los canales"
        Grupo="GCanales"
        Linea="LCanales"
        AuxTable="2"
        TabOrder="7">
      </fattr>
    </field>

    <field>
      <fattr
        FieldName="IVR_LINES"
        Panel="panelgenerales"
        DisplayName="Nº total"
        EditionType="Edit"
        MaxLen="3"
        Mandatory="true"
        ValidateAs="Integer"
        ToolTip="Nº de canales."
        Grupo="GCanales"
        Linea="LCanales"
        AuxTable="2"
        UpdateNeeded="true"
        TabOrder="8">
      </fattr>
    </field>

    <field>
      <fattr
        FieldName="IVR_MAX_THREADS"
        Panel="panelgenerales"
        DisplayName="Por proceso"
        EditionType="Edit"
        MaxLen="3"
        Mandatory="true"
        ValidateAs="Integer"
        ToolTip="Tareas por proceso"
        Grupo="GCanales"
        Linea="LCanales"
        AuxTable="2"
        UpdateNeeded="true"
        TabOrder="9">
      </fattr>
    </field>

    <field>
      <fattr
        FieldName="LOG_USER_HANGUP"
        Panel="panelgenerales"
        DisplayName="Grabar log"
        EditionType="check"
        Mandatory="false"
        ValidateAs="boolean"
        ToolTip="Indique si quiere grabar log"
        UpdateNeeded="true"
        AuxTable="2"
        TabOrder="10">
      </fattr>
    </field>

    <field>
      <fattr
        FieldName="IVR_OUTMSGDIR"
        Panel="paneldirectorios"
        DisplayName="Directorio de mensajes"
        EditionType="Edit"
        MaxLen="100"
        Mandatory="true"
        ValidateAs="Alpha"
        ToolTip="Path del directorio de mensajes"
        AuxTable="2"
        UpdateNeeded="true"
        TabOrder="11">
      </fattr>
    </field>

    <field>
      <fattr
        FieldName="IVR_SCRIPTDIR"
        Panel="paneldirectorios"
        DisplayName="Directorio de Scripts"
        EditionType="Edit"
        MaxLen="100"
        Mandatory="true"
        ValidateAs="Alpha"
        ToolTip="Path del directorio de scripts"
        AuxTable="2"
        UpdateNeeded="true"
        TabOrder="12">
      </fattr>
    </field>

    <field>
      <fattr
        FieldName="ACD_OUTMSGDIR"
        Panel="paneldirectorios"
        DisplayName="ACD Directorio de Scripts"
        EditionType="Edit"
        MaxLen="100"
        Mandatory="true"
        ValidateAs="Alpha"
        ToolTip="Path del directorio de scripts"
        AuxTable="2"
        UpdateNeeded="true"
        TabOrder="13">
      </fattr>
    </field>


    <field>
      <fattr
        FieldName="IVR_DLLDIR"
        Panel="paneldirectorios"
        DisplayName="Directorio de DLLs"
        EditionType="Edit"
        MaxLen="100"
        Mandatory="true"
        ValidateAs="Alpha"
        ToolTip="Path del directorio de DLLs"
        AuxTable="2"
        UpdateNeeded="true"
        TabOrder="14">
      </fattr>
    </field>

    <field>
      <fattr
        FieldName="SCRIPT_ID"
        Panel="panelgenerales"
        DisplayName="Script por defecto"
        EditionType="combo"
        Mandatory="true"
        ValidateAs="Alpha"
        ToolTip="Script por defecto"
        UpdateNeeded="true"
        External="true"
        TabOrder="15">
      </fattr>
      <external>
        <type tipo="table"/>
        <table
          DatabaseName="DBIVR"
          TableName="IVR_SCRIPTS"
          FilterSubsistema="true"
          CampoSubsistema="SUBSISTEMA"
          FieldKey="SCRIPT_ID"
          FieldValue="DESCRIPTION"
          DefaultKey="NULL"
          DefaultValue="Ninguno">
        </table>
      </external>
    </field>



    <field>
      <fattr
        FieldName="INIT_DLL"
        Panel="panelinicializacion"
        DisplayName="DLL"
        EditionType="Edit"
        MaxLen="50"
        Mandatory="false"
        ValidateAs="Alpha"
        ToolTip="Path de la DLL de arranque"
        Grupo="ArranqueParada"
        AuxTable="2"
        Columna="Arranque"
        UpdateNeeded="true"
        TabOrder="16">
      </fattr>
    </field>

    <field>
      <fattr
        FieldName="INIT_FUNCTION"
        Panel="panelinicializacion"
        DisplayName="Función"
        EditionType="Edit"
        MaxLen="50"
        Mandatory="false"
        ValidateAs="Alpha"
        ToolTip="Función de ejecución en el arranque"
        Grupo="ArranqueParada"
        Columna="Arranque"
        AuxTable="2"
        UpdateNeeded="true"
        TabOrder="17">
      </fattr>
    </field>

    <field>
      <fattr
        FieldName="EXIT_DLL"
        Panel="panelinicializacion"
        DisplayName="DLL"
        EditionType="Edit"
        MaxLen="50"
        Mandatory="false"
        ValidateAs="Alpha"
        ToolTip="Path de la DLL de parada"
        Grupo="ArranqueParada"
        Columna="Parada"
        UpdateNeeded="true"
        AuxTable="2"
        TabOrder="18">
      </fattr>
    </field>

    <field>
      <fattr
        FieldName="EXIT_FUNCTION"
        Panel="panelinicializacion"
        DisplayName="Función"
        EditionType="Edit"
        MaxLen="50"
        Mandatory="false"
        ValidateAs="Alpha"
        ToolTip="Función de ejecución en la parada"
        AuxTable="2"
        Grupo="ArranqueParada"
        Columna="Parada"
        UpdateNeeded="true"
        TabOrder="19">
      </fattr>
    </field>

    <field>
      <fattr
        FieldName="Conexiones"
        Panel="panelconexiones"
        DisplayName="Conexiones a base de datos"
        EditionType="Table"
        Mandatory="false"
        ToolTip="Conexiones a base de datos"
        External="true"
        UpdateNeeded="true"
        TabOrder="20">
      </fattr>
      <external>
        <type tipo="TABLEEDIT"/>
        <additionalInfo
          NewRegTitle="Nueva conexión con base de datos"
          NewRegType="Combo"/>
        <table
          DatabaseName="DBIVR"
          TableName="IVR_DB_POOL_ACTIVATION"
          DatabaseName2="GENERAL"
          TableName2="DATABASE_CONNECTION"
          Crossfield="IVR_DB_POOL"
          Crossfield2="ID_CONNECTION"
          FilterValueLocal="ivr_id"
          FilterValueExternal="ivr_id"
          CampoSubsistema="subsistema">
        </table>
        <fieldsTable>
          <field2>
            <fattr2
              FieldName="IVR_DB_POOL"
              DisplayName="Conexión:"
              EditionType="Combo"
              Mandatory="true"
              ValidateAs="Alpha"
              ReadOnly="true"
              IsKey="true"
              MaxLen="10"
              External="true"
              UpdatedNeeded="true"
              KeyViolationMessage="No se puede añadir.La conexión ya existía previamente."
              Visible="true">
            </fattr2>
            <external2>
              <type2 tipo ="table"/>
              <table2
                DatabaseName="GENERAL"
                TableName="DATABASE_CONNECTION"
                DatabaseNameFilterUsed="DBIVR"
                TableNameFilterUsed="IVR_DB_POOL_ACTIVATION"
                CrossfieldUsed="ID_CONNECTION"
                CrossfieldUsed2="IVR_DB_POOL"
                FieldKey="ID_CONNECTION"
                FieldValue="DESCRIPTION"
                DefaultKey="NULL"
                DefaultValue="Ninguno"
                FilterSubsistema="true"
                CampoSubsistema="subsistema">
              </table2>
            </external2>
          </field2>
        </fieldsTable>
      </external>
    </field>

  </fields>
</table>

