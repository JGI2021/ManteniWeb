<table>

  <general
    DisplayName="Label"
    Database="DBCHAT"
    TableName="CHAT_TAGS">
  </general>

  <panels>
    <panel
      id="panelgenerales"
      DisplayName="General Data">
    </panel>
  </panels>

  <fields>

    <field>
      <fattr
        FieldName="chat_tag_id"
        Panel="panelgenerales"
        DisplayName="Label Id"
        IsKey="true"
        ReadOnly="true"
        EditionType="AutoGeneratedInt"
        Mandatory="true"
        ValidateAs="Integer"
        ToolTip="Label Id"
		PosColumna="3"
        External="false"
        TabOrder="1"
        Linea="L1">
      </fattr>
    </field>


    <!--<field>
      <fattr
        FieldName="GRUPO_ACD_ID"
        Panel="panelgenerales"
        DisplayName="Grupo"
        EditionType="Combo"
        Mandatory="true"
        ValidateAs="Alpha"
        ToolTip="Grupo acd"
        External="true"
        UpdateNeeded="true"
        MultipleEdicion="true"
        Linea="L1"
        TabOrder="2">
      </fattr>
      <external>
        <type tipo="table"/>
        <table
             DatabaseName="TIPHONE"
             TableName="GRUPO_ACD"
             FieldKey="GRUPO_ACD_ID"
             FieldValue="ALIAS"
             DefaultKey="NULL"
             DefaultValue="Ninguno"
             FilterSubsistema="true"
             CampoSubsistema="subsistema">
        </table>
      </external>
    </field>-->


    <field>
      <fattr
        FieldName="descripcion"
        Panel="panelgenerales"
        DisplayName="Label name"
        EditionType="edit"
        Mandatory="true"
        ValidateAs="Alpha"
        MaxLen="250"
        ToolTip="Label name"
        External="false"
        Linea="L1"
		PosColumna="5"
        UpdateNeeded="true"
        TabOrder="3">
      </fattr>
    </field>


    <field>
      <fattr
        FieldName="Activo"
        Panel="panelgenerales"
        DisplayName="Enabled"
        EditionType="check"
        Mandatory="false"
        ValidateAs="boolean"
        ToolTip="Enabled"
        External="false"
        Linea="L3"
        UpdateNeeded="true"
        TabOrder="4">
      </fattr>
    </field>

    <field>
      <fattr
        FieldName="Grupo_ACD"
        Panel="panelgenerales"
        DisplayName="ACD Groups"
        EditionType="Table"
        Mandatory="false"
        ToolTip="ACD Groups"
        External="true"
		PosColumna="8"
        UpdateNeeded="true"
        TabOrder="5"
        Linea="L4">
      </fattr>
      <external>
        <type tipo="TABLEEDIT"/>
        <additionalInfo
            NewRegTitle="Asignar grupo"
            NewRegType="Combo" />
        <table
            DatabaseName="DBCHAT"
			DatabaseName2="TIPHONE"
            TableName="CHAT_TAGS_ASIGNABLES"
            TableName2="GRUPO_ACD"
            Crossfield="GRUPO_ACD_ID"
            Crossfield2="GRUPO_ACD_ID"
            FilterValueLocal="chat_tag_id"
            FilterValueExternal="chat_tag_id">
        </table>
        <fieldsTable>
          <field2>
            <fattr2
              FieldName="grupo_acd_id"
              DisplayName="ACD Group"
              EditionType="Combo"
              Mandatory="true"
              ValidateAs="Integer"
			  DatabaseName="TIPHONE"
              ReadOnly="true"
              IsKey="true"
              MaxLen="5"
              External="true"
              UpdatedNeeded="true"
              KeyViolationMessage="No se puede añadir.El grupo ya está asignado al tag."
              Visible="true">
            </fattr2>
            <external2>
              <type2 tipo="table"/>
              <table2		
                DatabaseName="TIPHONE"				
				DatabaseNameFilterUsed="TIPHONE"
                TableName="GRUPO_ACD"
                TableNameFilterUsed="CHATTAGS_GRUPOACD"
                CrossfieldUsed="GRUPO_ACD_ID"
                CrossfieldUsed2="GRUPO_ACD_ID"
                FieldKey="GRUPO_ACD_ID"
                FieldValue="alias"
                DefaultKey="NULL"
                DefaultValue="Ninguno"
                FilterValuesTable="">
              </table2>
            </external2>
          </field2>
        </fieldsTable>
      </external>
    </field>

  </fields>
</table>
