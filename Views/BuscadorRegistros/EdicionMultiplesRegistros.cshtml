
@using ManteniWeb.Code
@using ManteniWeb.DatosTablas
@using ManteniWeb.ClasesDeDatos

@model List<string>

@Styles.Render("~/FicherosCss")
@Styles.Render("~/FicherosCssPropios")

@{
    DatosContactoCli contacto = new DatosContactoCli();
    List<TDatosRdoNegocio> lsResultados = (List<TDatosRdoNegocio>)ViewBag.ResultadosNegocio;
    Layout = null;
    TUsuario usuario = ViewBag.Usuario as TUsuario;
}

@Scripts.Render("~/bundles/jquery")
@Scripts.Render("~/bundles/bootstrap")
@Scripts.Render("~/bundles/FuncionesJS")

<script src="~/js/BuscadorContactos.js"></script>
<script src="~/js/sweetalert2/dist/sweetalert2.all.min.js" type="text/javascript"></script>

<script>

        let g_lsRegistros = [];
        let g_datosContacto;

        $(document).ready(function () {
            g_lsRegistros = @Html.Raw(Json.Encode(Model));
            g_datosContacto = @Html.Raw(Json.Encode(contacto));
        });

    function CierraModal() {
        parent.$('#closeModalEdicion').click();
    }

</script>

<style>
    .panel-reprogramacion {
        top: 20px;
        position: relative;
        border-top: 1px solid #d2d2d2;
        border-bottom: 1px solid #d2d2d2;
        display: none;
    }

    .posiciona-label {
        margin-right: 10px;
        top: 10px;
        position: relative;
    }
</style>

<body style="width:1329px; height:670px;">
    <div class="row rowSeparacion20">
        <div class="col-lg-2 col-md-2 col-sm-2" style='text-align:left;' collapse width show" id="LeftPanel">
            <div class="visible-lg visible-md ">
                <ul id="VerticalPill_opciones" class="nav nav-pills nav-stacked VerticalPillMenuRegistro">
                    <li></li>
                    <li class="RowAccionesSiempreVisibles" style="">
                        <a href="#" role="button" id="btnGuardar" class="" onclick="GuardarDatos();">
                            <div class="row" style="display:inline-flex">
                                <div class="col-lg-2 col-sm-1">
                                    <span class="fa fa-save visible-lg visible-md visible-xs" aria-hidden="true"></span>
                                </div>
                                <div class="col-lg-10 col-sm-11">Guardar</div>
                            </div>
                        </a>
                    </li>

                    @if (usuario.NivelOperador >= (int)TipoDeOperador.opSupervisor)
                    {
                        <li class="RowAccionesSiempreVisibles" style="">
                            <a href="#" role="button" id="btnEliminar" class="" onclick="EliminarRegistros();">
                                <div class="row" style="display:inline-flex">
                                    <div class="col-lg-2 col-sm-1">
                                        <span class="fa fa-trash visible-lg visible-md visible-xs" aria-hidden="true"></span>
                                    </div>
                                    <div class="col-lg-10 col-sm-11">Eliminar</div>
                                </div>
                            </a>
                        </li>
                    }
                    <li class="RowAccionesSiempreVisibles" style="">
                        <a href="#" role="button" id="OptionButtonVP_16" onclick="CierraModal()">
                            <div class="row" style="display:inline-flex">
                                <div class="col-lg-2 col-sm-2">
                                    <span class="fa fa-close visible-lg visible-md visible-xs" aria-hidden="true"></span>
                                </div>
                                <div class="col-lg-10 col-sm-11">Salir</div>
                            </div>
                        </a>
                    </li>
                    <li></li>
                </ul>
            </div>
        </div>



        <div class="col-lg-9 col-md-9 col-sm-9">

            @Html.Partial("_MensajesError")

            <div class='row rowSeparacion15'>
                <div class='col-lg-5 col-md-5'>
                    <button type='button' class='btn btn-primary'>
                        Registros seleccionados &nbsp;
                        <span class='badge'> @Model.Count.ToString() </span>
                    </button>
                    <span class='fa fa-spin fa-spinner fa-3x' id='spinGuardar' style='display:none;'></span>
                </div>
            </div>

            @Html.Partial("PanelCamposContacto")

            <div class="panel-reprogramacion" id="fechaHoraSiguiente">
                <div class="row" style="margin-top: 20px; margin-bottom: 20px;">
                    <div class="col-lg-3 col-md-3" style="display:inline-flex">
                        <input type="radio" id="mantenerReprog" value="1" style="margin-right: 10px;top: 5px; position:relative;"
                               onchange="CambiaCampo('mantenerReprog');" name="reprogramar" checked='checked' />
                        <label for="mantenerReprog" class="posiciona-label">Mantener fechas</label>
                    </div>
                    <div class="col-lg-3 col-md-3" style="display:inline-flex">
                        <input type="radio" id="llamarAhora" value="1" style="margin-right: 10px;top: 5px; position:relative;"
                               onchange="CambiaCampo('llamarAhora');" name="reprogramar" />
                        <label for="soloMarcador" class="posiciona-label">Llamar ahora</label>
                    </div>
                    <div class="col-lg-6 col-md-6" style="display:inline-flex">
                        <input type="radio" id="llamarMasTarde" value="2" style="margin-right: 10px;"
                               onchange="CambiaCampo('llamarMasTarde');" name="reprogramar" />

                        <label for="fechaSigLlamada" class="posiciona-label">Siguiente llamada</label>
                        <input type="date" id="fechaSigLlamada" value="" class="form-control" style="width: 30%;"
                               onchange="CambiaCampo('fechaSigLlamada')" />
                        <input type="time" id="horaSigLlamada" value="" class="form-control" style="width: 25%; margin-left: 10px;"
                               onchange="CambiaCampo('horaSigLlamada')" />
                    </div>
                </div>
            </div>

        </div>
    </div>
</body>
